(function(){'use strict';function m(d,g){d=w(d,void 0);for(var c=0;c<d.length;c++)d[c].classList.add(g)}function x(d,g){d=w(d,void 0);for(var c=0;c<d.length;c++)d[c].classList.remove(g)}function G(d,g,c){d=w(d);if("string"===typeof g)for(var h=0;h<d.length;h++)d[h].style.setProperty(g,c);else for(h in g)if(g.hasOwnProperty(h))for(c=0;c<d.length;c++)d[c].style.setProperty(h,g[h])}function K(d,g){return"string"===typeof d?(g?K(g):document).querySelector(d):d}
function w(d,g){if(d.constructor===Array){for(g=0;g<d.length;g++)d[g]=K(d[g]);return d}return"string"===typeof d?(g?K(g):document).querySelectorAll(d):[d]};(function(){function d(a){L=w(".pane",k)[a-1];E=L.style;q=L.firstElementChild;r=q.style;p=a;q.loaded||(m(f,"loading"),function(b){var e=new Image;e.onload=function(){b.src=e.src;x(f,"loading");b=e=e.onload=null};e.onerror=function(){e=null;b.loaded=!1;b=null};e.src=b.dataset.src}(q),q.loaded=!0);G(q,{opacity:1,transform:"translate(-50%, -50%) scale(1)"})}function g(a,b){a=w(".spotlight",a);if(H=a.length){for(var e=w("#spotlight .pane"),n=e.length,u={},y=0;y<H;u={a:u.a},y++){var z=void 0;u.a=void 0;
if(y<n)z=e[y].firstElementChild,z.dataset.src=a[y].href,z.loaded=!1;else{var P=e[0].cloneNode(!0);z=P.firstElementChild;z.dataset.src=a[y].href;z.loaded=!1;P.style.left=100*y+"%";e[0].parentNode.appendChild(P)}u.a=z.style;u.a.transition="none";u.a.opacity=0;u.a.transform="translate(-50%, -50%) scale(0.8)";u.a.maxHeight="100%";u.a.maxWidth="100%";setTimeout(function(fa){return function(){fa.a.transition="transform 1s cubic-bezier(0.1, 1, 0.1, 1), opacity 1s cubic-bezier(0.1, 1, 0.1, 1)"}}(u))}k.style.transition=
"none";k.style.transform="translateX(-"+100*((b||1)-1)+"%)";setTimeout(function(){k.style.transition="transform 1s cubic-bezier(0.1, 1, 0.1, 1)";d(b||1);Q();m(f,"show");h()})}}function c(a,b,e,n){a.addEventListener(b||"click",e,"undefined"===typeof n?!0:n)}function h(){A?clearTimeout(A):m(f,"menu");A=setTimeout(function(){x(f,"menu");A=null},2E3)}function ha(a){A?(A=clearTimeout(A),x(f,"menu")):h();return R(a)}function W(a){a=X(a);F=document.body.clientWidth;B=document.body.clientHeight;C=q.width*
t;D=q.height*t;I=C<=F;S=!0;T=a.x;U=a.y;return!1}function M(a){I&&(G("#spotlight .scene","transition","none"),G("#spotlight .scene","transform","translateX("+-(100*(p-1)-100/F*l)+"%)"),setTimeout(function(){G("#spotlight .scene","transition","transform 1s cubic-bezier(0.1, 1, 0.1, 1)");l<-(B/5)&&Y()||l>B/5&&Z()||G("#spotlight .scene","transform","translateX(-"+100*(p-1)+"%)");l=0;I=!1;E.transform=""}));S=!1;return R(a)}function aa(a){if(S){a=X(a);I=C<=F;var b=(C-C/t)/2;l-=T-(T=a.x);I?J=!0:l>b?l=b:
0<F-l-C+b?l=F-C+b:J=!0;D>B&&(b="none"===V?(D-D/t)/2:(D-B)/2,v-=U-(U=a.y),v>b?v=b:0<B-v-D+b?v=B-D+b:J=!0);N||(N=window.requestAnimationFrame(ba))}else h();return!1}function X(a){var b=a.touches;b&&(b=b[0]);return{x:b?b.clientX:a.pageX,y:b?b.clientY:a.pageY}}function ba(){if(J){N=window.requestAnimationFrame(ba);var a=l+.5|0,b=v+.5|0;ca===a&&da===b||E.setProperty("transform","translate("+(ca=a)+"px, "+(da=b)+"px)")}else N=null;J=!1}function ia(){ja()?this.firstElementChild.src="img/minimize.svg":this.firstElementChild.src=
"img/maximize.svg"}function ka(){v=l=0;O=1===t&&!O;r.maxHeight=V=O?"none":"100%";r.maxWidth=O?"none":"100%";r.transform="translate(-50%, -50%) scale(1)";t=1}function la(){r.transform="translate(-50%, -50%) scale("+(t/=.65)+")";h()}function ma(){if(1<t){t*=.65;if("none"===V){var a=document.body;l=(a.clientWidth-q.naturalWidth)/2;v=(a.clientHeight-q.naturalHeight)/2}else v=l=0;r.transform="translate(-50%, -50%) scale("+t+")"}h()}function na(){x(f,"show");for(var a=w("#spotlight .scene img"),b=0;b<a.length;b++)a[b].src=
"img/pixel.gif",a[b].loaded=!1;r=q=E=L=null}function Z(){h();if(1<p)return p--,Q(),!0}function Y(){h();if(p<H)return p++,Q(),!0}function oa(){h();(ea=!ea)?m(f,"white"):x(f,"white")}function Q(){v=l=0;t=1;G(k,"transform","translateX(-"+100*(p-1)+"%)");E.transform="";r.opacity=0;r.transform="translate(-50%, -50%) scale(1)";d(p);E.transform="";r.opacity=1;r.transform="translate(-50%, -50%) scale(1)";G("#spotlight .arrow-left","visibility",1===p?"hidden":"");G("#spotlight .arrow-right","visibility",p===
H?"hidden":"");K("#spotlight .page").textContent=p+" / "+H}function R(a){a||(a=window.event);a.preventDefault();a.stopImmediatePropagation();return a.returnValue=!1}function ja(a){a||(a=document.documentElement||document.body);var b=document.isFullScreen||document.webkitIsFullScreen||document.mozFullScreen||!1;a.requestFullScreen||(a.requestFullScreen=a.requestFullScreen||a.webkitRequestFullScreen||a.msRequestFullScreen||a.mozRequestFullScreen||function(){});b?document.cancelFullScreen():a.requestFullScreen();
return!b}var N=null,S=!1,J=!1,O=!1,I=!1,F,B,T,U,C,D,l=0,v=0,ca=0,da=0,t=1,A=null,V,k,L,E,q,r,f,p,H;window.dispatch_spotlight=function(a){for(var b=this.closest(".spotlight-group"),e=w(".spotlight",b),n=0;n<e.length;n++)if(e[n]===this){g(b,n+1);break}return R(a)};c(document,"DOMContentLoaded",function(){f=document.createElement("div");f.id="spotlight";f.style.backgroundImage="url(img/preloader.svg)";f.innerHTML="<div class=scene><div class=pane><img src></div></div><table class=header><tr><td class=page><td class=title><td class=toggle-fullscreen><img src='img/maximize.svg'><td class=toggle-zoom><img src='img/original.svg'><td class=zoom-out><img src='img/zoom-out.svg'><td class=zoom-in><img src='img/zoom-in.svg'><td class=toggle-contrast><img src='img/contrast.svg'><td class=close-gallery><img src='img/close.svg'></table><div class=arrow-left><img src='img/arrow.svg'></div><div class=arrow-right><img src='img/arrow.svg'></div>";
document.body.appendChild(f);document.cancelFullScreen||(document.cancelFullScreen=document.cancelFullScreen||document.exitFullscreen||document.webkitCancelFullScreen||document.webkitExitFullscreen||document.mozCancelFullScreen||G("#spotlight .toggle-fullscreen","display","none")||function(){});k=K(".scene",f);c(k,"",ha);c(k,"mousedown",W);c(k,"mouseleave",M);c(k,"mouseup",M);c(k,"mousemove",aa);c(k,"touchstart",W,{passive:!0});c(k,"touchcancel",M);c(k,"touchend",M);c(k,"touchmove",aa,{passive:!0});
c(K(".toggle-fullscreen",f),"",ia);c(K(".toggle-zoom",f),"",ka);c(K(".zoom-in",f),"",la);c(K(".zoom-out",f),"",ma);c(K(".close-gallery",f),"",na);c(K(".arrow-left",f),"",Z);c(K(".arrow-right",f),"",Y);c(K(".toggle-contrast",f),"",oa)});c(window,"",function(a){a||(a=window.event);var b=a.target,e;if(e=b)a:{e=w(b,void 0);for(var n=0;n<e.length;n++)if(e[n].classList.contains("spotlight")){e=!0;break a}e=!1}if(e)return window.dispatch_spotlight.call(b,a)});var ea=!1})();}());
