(function(){'use strict';function aa(a){for(var b=a.className.split(" "),c={},d=0;d<b.length;d++)c[b[d]]=1;a.a=c}function g(a){var b=h(k);"string"===typeof a&&(a=[a]);for(var c=0;c<a.length;c++)for(var d=a[c],e=0;e<b.length;e++){var f=b[e];f.a||aa(f);f.a[d]||(f.a[d]=1,f.classList.add(d))}}function l(a){var b=h(k);"string"===typeof a&&(a=[a]);for(var c=0;c<a.length;c++)for(var d=a[c],e=0;e<b.length;e++){var f=b[e];f.a||aa(f);f.a[d]&&(f.a[d]=0,f.classList.remove(d))}}
function m(a,b,c,d){a=h(a);if("string"===typeof b)for(var e=0;e<a.length;e++){var f=a[e],n=f.b;n||(f.b=n={});n[b]!==c&&(n[b]=c,f.style.setProperty(b,c,d))}else for(e=Object.keys(b),f=0;f<e.length;f++){n=e[f];c=b[n];for(var x=0;x<a.length;x++)m(a[x],n,c,d)}}function h(a){if(a.constructor===Array){for(var b=0;b<a.length;b++){var c=a[b];a[b]="string"===typeof c?document.querySelector(c):c}return a}return"string"===typeof a?document.querySelectorAll(a):[a]}
function p(a,b){return(b||document).getElementsByClassName(a)};/*
 Spotlight.js v0.0.5
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/spotlight
*/
var q="contrast fullscreen reset minimize maximize page title description".split(" "),r=null,t=!1,u=!1,v=!1,w=!1,y=!1,z,A,B,C,D,E,F=0,G=0,H=1,I=null,J,K,L,M,N,k,O,P,Q;
function ba(a){var b=a.target.closest(".spotlight");if(b){var c=b.closest(".spotlight-group"),d=p("spotlight",c);ca(c,b);for(c=0;c<d.length;c++)if(d[c]===b){if(P=d.length){M=p("pane",k);b=M.length;for(var e=0;e<P;e++)if(e<b){var f=M[e].firstElementChild;f.dataset.src=d[e].href;f.loaded=!1}else{var n=M[0].cloneNode(!0);f=n.firstElementChild;f.dataset.src=d[e].href;f.loaded=!1;m(n,"left",100*e+"%");M[0].parentNode.appendChild(n)}R(K,"transform","translateX(-"+100*((c||1)-1)+"%)");da(c||1);S()}break}ea();
return T(a)}}function ca(a,b){Q={};a&&fa(a.dataset);fa(b.dataset);if(Q.control){a=Q.control.split(",");for(b=0;b<q.length;b++)Q[q[b]]="false";for(b=0;b<a.length;b++)Q[a[b].trim()]="true"}for(a=0;a<q.length;a++)b=q[a],m(p(b,k)[0],"display","false"===Q[b]?"none":"table-cell")}function fa(a){for(var b=Q,c=Object.keys(a),d=0;d<c.length;d++){var e=c[d];b[e]=a[e]}}
function da(a){L=M[a-1];N=L.firstElementChild;O=a;N.loaded?(N.src=N.dataset.src,m(N,{opacity:1,transform:""})):(g("loading"),function(b){var c=new Image;c.onload=function(){b.src=c.src;l("loading");m(b,{opacity:1,transform:""});b=c=c.onload=null};c.onerror=function(){b.loaded=!1;b=c=c.onload=null};c.src=b.dataset.src}(N),N.loaded=!0)}
U(document,"DOMContentLoaded",function(){k=document.createElement("div");k.id="spotlight";k.innerHTML="<div class=preloader style=\"background-image: url(img/preloader.svg);\"></div><div class=scene><div class=pane><img src></div></div><table class=header><tr><td class=page><td class=fullscreen><img src='img/maximize.svg'><td class=reset><img src='img/original.svg'><td class=minimize><img src='img/zoom-out.svg'><td class=maximize><img src='img/zoom-in.svg'><td class=contrast><img src='img/contrast.svg'><td class=close><img src='img/close.svg'></table><div class=\"arrow arrow-left\"><img src='img/arrow.svg'></div><div class=\"arrow arrow-right\"><img src='img/arrow.svg'></div><div class=footer><b class=title></b><p class=description></p></div>";document.body.appendChild(k);
document.cancelFullScreen||(document.cancelFullScreen=document.exitFullscreen||document.webkitCancelFullScreen||document.webkitExitFullscreen||document.mozCancelFullScreen||function(){});var a=document.documentElement||document.body;a.requestFullScreen||(a.requestFullScreen=a.webkitRequestFullScreen||a.msRequestFullScreen||a.mozRequestFullScreen||m("#spotlight .fullscreen","display","none")||function(){});K=p("scene",k)[0];U(K,"mousedown",ha);U(K,"mouseleave",V);U(K,"mouseup",V);U(K,"mousemove",ia);
U(K,"touchstart",ha,{passive:!0});U(K,"touchcancel",V);U(K,"touchend",V);U(K,"touchmove",ia,{passive:!0});U(p("fullscreen",k)[0],"",ja);U(p("reset",k)[0],"",ka);U(p("maximize",k)[0],"",la);U(p("minimize",k)[0],"",ma);U(p("close",k)[0],"",na);U(p("arrow-left",k)[0],"",W);U(p("arrow-right",k)[0],"",X);U(p("contrast",k)[0],"",oa);U(window,"",ba)});function U(a,b,c,d){a.addEventListener(b||"click",c,"undefined"===typeof d?!0:d)}var pa=0;
function R(a,b,c){m(a,"transition","none");m(a,b,c);pa||(pa=a.clientTop&&0);m(a,"transition","")}function Y(){I?clearTimeout(I):g("menu");I="false"!==Q.autohide?setTimeout(function(){l("menu");I=null},2E3):1}function ha(a){var b=qa(a);z=document.body.clientWidth;A=document.body.clientHeight;D=N.width*H;E=N.height*H;w=D<=z;t=!0;y=!1;B=b.x;C=b.y;return T(a,!0)}
function V(a){t=!1;if(!y)return I?(I=clearTimeout(I),l("menu")):Y(),T(a);if(w){var b=p("scene",k)[0];R(b,"transform","translateX("+-(100*(O-1)-F/z*100)+"%)");F<-(A/5)&&X()||F>A/5&&W()||m(b,"transform","translateX(-"+100*(O-1)+"%)");F=0;w=!1;m(L,"transform","")}return T(a)}
function ia(a){if(t){r||(r=requestAnimationFrame(ra));var b=qa(a),c=(D-D/H)/2;y=!0;w=D<=z;F-=B-(B=b.x);w?u=!0:F>c?F=c:0<z-F-D+c?F=z-D+c:u=!0;E>A&&(c="none"===J?(E-E/H)/2:(E-A)/2,G-=C-(C=b.y),G>c?G=c:0<A-G-E+c?G=A-E+c:u=!0)}else Y();return T(a,!0)}function qa(a){var b=a.touches;b&&(b=b[0]);return{x:b?b.clientX:a.pageX,y:b?b.clientY:a.pageY}}function ra(){u?(r=requestAnimationFrame(ra),m(L,"transform","translate("+F+"px, "+G+"px)")):r=null;u=!1}
function ja(){var a=document.documentElement||document.body,b=document.isFullScreen||document.webkitIsFullScreen||document.mozFullScreen;b?document.cancelFullScreen():a.requestFullScreen();b?this.firstElementChild.src="img/maximize.svg":this.firstElementChild.src="img/minimize.svg"}function ka(){G=F=0;v=1===H&&!v;m(N,{maxHeight:J=v?"none":"",maxWidth:v?"none":"",transform:""});H=1}function la(){Z(H/=.65)}function Z(a){m(N,"transform","translate(-50%, -50%) scale("+a+")");Y()}
function ma(){if(1<H){H*=.65;if("none"===J){var a=document.body;F=(a.clientWidth-N.naturalWidth)/2;G=(a.clientHeight-N.naturalHeight)/2}else G=F=0;Z(H)}Y()}function ea(a){a&&ca(null,{dataset:a});g("show");Y()}function na(){l("show");for(var a=(p("scene",k)[0]||document).getElementsByTagName("img")[0],b=0;b<a.length;b++)a[b].src="img/pixel.gif",a[b].loaded=!1;N=L=null}function W(){Y();if(1<O)return O--,S(!1),!0}function X(){Y();if(O<P)return O++,S(!0),!0}var ta=!1;
function oa(){Y();(ta=!ta)?g("white"):l("white")}
function S(a){G=F=0;H=1;var b=Q.animation,c=!0,d=!0,e=!0,f=!1;if("undefined"!==typeof b){f=e=d=c=!1;b=b.split(",");for(var n=0;n<b.length;n++){var x=b[n].trim();"scale"===x?c=!0:"fade"===x?d=!0:"slide"===x?e=!0:"rotate"===x&&(f=!0)}}m(K,"transition",e?"":"none");m(K,"transform","translateX(-"+100*(O-1)+"%)");m(L,"transform","");m(N,{opacity:d?0:1,transform:""});m(N,{});var sa=N;setTimeout(function(){N!==sa&&(sa.src="img/pixel.gif")},800);da(O);R(N,{opacity:d?0:1,transform:"translate(-50%, -50%)"+
(c?" scale(0.8)":"")+(f&&"undefined"!==typeof a?" rotateY("+(a?"":"-")+"135deg)":""),maxHeight:"",maxWidth:""});m(L,"transform","");m(N,{opacity:1,transform:""});m(p("arrow-left",k)[0],"visibility",1===O?"hidden":"");m(p("arrow-right",k)[0],"visibility",O===P?"hidden":"");p("page",k)[0].textContent=O+" / "+P}function T(a,b){a||(a=window.event);a&&(b||a.preventDefault(),a.stopImmediatePropagation(),a.returnValue=!1);return!1}
window.spotlight={toggleContrast:oa,toggleFullscreen:ja,next:X,prev:W,"goto":function(a){if(a!==O){Y();var b=a>O;O=a;S(b);return!0}},show:ea,hide:na,zoomTo:Z,zoomIn:la,zoomOut:ma,zoomReset:ka};}());
