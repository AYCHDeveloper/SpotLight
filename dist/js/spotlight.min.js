/**
 * Spotlight.js v0.5.6
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/spotlight
 */
(function(){'use strict';var aa={};function ba(a){for(var b=a.classList,c={},d=0;d<b.length;d++)c[b[d]]=1;a.a=c;a.b=b}function f(a,b){a=h(a);"string"===typeof b&&(b=[b]);for(var c=0;c<a.length;c++)for(var d=a[c],e=0;e<b.length;e++){var g=b[e];d.a||ba(d);d.a[g]||(d.a[g]=1,d.b.add(g))}}function k(a,b){a=h(a);"string"===typeof b&&(b=[b]);for(var c=0;c<a.length;c++)for(var d=a[c],e=0;e<b.length;e++){var g=b[e];d.a||ba(d);d.a[g]&&(d.a[g]=0,d.b.remove(g))}}
function l(a,b,c,d){a=h(a);if("string"===typeof b)for(var e=0;e<a.length;e++){var g=a[e],m=g.c;m||(g.c=m={});m[b]!==c&&(m[b]=c,(g.f||(g.f=g.style)).setProperty(aa[b]||(aa[b]=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),c,d?"important":null))}else for(c=Object.keys(b),e=0;e<c.length;e++)g=c[e],l(a,g,b[g],d)}var ca=0;function n(a,b,c){l(a,"transition","none");l(a,b,c);ca||(ca=a.clientTop&&0);l(a,"transition","")}
function da(a,b){b||(b="");a=h(a);for(var c=0;c<a.length;c++){var d=a[c];d.g!==b&&(d.g=b,d.textContent=b)}}function h(a){if(a.constructor===Array){for(var b=0;b<a.length;b++){var c=a[b];a[b]="string"===typeof c?document.querySelector(c):c}return a}return"string"===typeof a?document.querySelectorAll(a):[a]}function p(a,b){return(b||document).getElementsByClassName(a)};function ea(a,b,c,d){fa("add",a,b,c,d)}function ha(a,b,c,d){fa("remove",a,b,c,d)}function fa(a,b,c,d,e){b[a+"EventListener"](c||"click",d,"undefined"===typeof e?!0:e)}function q(a,b){a||(a=window.event);a&&(b||a.preventDefault(),a.stopImmediatePropagation(),a.returnValue=!1);return!1};var r="theme fullscreen autofit zoom-in zoom-out page title description player progress".split(" "),t,u,ia,ja,x,y,z,A,B,C,D,E,F,G,H,ka,I,K,L,M,la,ma,N,O,P,Q,R,na,oa,pa,qa,ra,S,sa,ta,ua,T,wa,U,V,W,xa;function ya(a,b,c){this.src=a;this.title=b;this.description=c}
function za(a,b){if(K=a.length){P||(P=p("pane",R));var c=P.length,d=L.title,e=L.description;W=Array(K);for(var g=0;g<K;g++){var m=a[g],v=m.dataset;if(g>=c){var w=P[0].cloneNode(!1);l(w,"left",100*g+"%");P[0].parentNode.appendChild(w)}w=void 0;var J=W,Xa=g,Ya=v&&(v.href||v.src)||m.src||m.href,va;(va=v&&v.title||m.title)||(va=(w=(m||document).getElementsByTagName("img")).length&&w[0].alt);J[Xa]=new ya(Ya,va||d||"",v&&v.description||m.description||e||"")}I=b||1;n(N,"transform","translateX(-"+100*(I-
1)+"%)");Aa()}}function Ba(a,b,c,d){if(d||a[c])L[c]=b&&b[c]||d}
function Ca(a,b){L={};b&&Da(b);Da(a);Ba(a,b,"description");Ba(a,b,"title");Ba(a,b,"prefetch",!0);Ba(a,b,"preloader",!0);M=L.infinite;M="undefined"!==typeof M&&"false"!==M;la="false"!==L.progress;ma=1*L.player||7E3;if((a=L.zoom)||""===a)L["zoom-in"]=L["zoom-out"]=a,delete L.zoom;if((a=L.control)||""===a){a="string"===typeof a?a.split(","):a;for(b=0;b<r.length;b++)L[r[b]]="false";for(b=0;b<a.length;b++){var c=a[b].trim();"zoom"===c?L["zoom-in"]=L["zoom-out"]="true":L[c]="true"}}for(a=0;a<r.length;a++)b=
r[a],l(p(b,R)[0],"display","false"===L[b]?"none":"");(ka=L.theme)?Ea():ka="white"}function Da(a){for(var b=L,c=Object.keys(a),d=0;d<c.length;d++){var e=c[d];b[e]=""+a[e]}}
function Fa(){var a=I;O=P[a-1];Q=O.firstElementChild;I=a;if(!Q){var b="false"!==L.preloader;Q=new Image;Q.onload=function(){b&&k(R,"loading");l(this,{visibility:"visible",opacity:1,transform:""});"false"!==L.prefetch&&a<K&&((new Image).src=W[a].src)};Q.onerror=function(){O.removeChild(this)};O.appendChild(Q);Q.src=W[a-1].src;b&&f(R,"loading");return!b}return!0}ea(document,"",Ga);
ea(document,"DOMContentLoaded",function(){R=document.createElement("div");R.id="spotlight";R.innerHTML='<div class=preloader></div><div class=scene><div class=pane></div></div><div class=header><div class=page></div><div class="icon fullscreen"></div><div class="icon autofit"></div><div class="icon zoom-out"></div><div class="icon zoom-in"></div><div class="icon theme"></div><div class="icon player"></div><div class="icon close"></div></div><div class=progress></div><div class="arrow arrow-left"></div><div class="arrow arrow-right"></div><div class=footer><div class=title></div><div class=description></div></div>';l(R,
"transition","none");document.body.appendChild(R);N=p("scene",R)[0];na=p("footer",R)[0];oa=p("title",na)[0];pa=p("description",na)[0];qa=p("arrow-left",R)[0];ra=p("arrow-right",R)[0];S=p("fullscreen",R)[0];sa=p("page",R)[0];ta=p("player",R)[0];ua=p("progress",R)[0];V=document.documentElement||document.body;document.cancelFullScreen||(document.cancelFullScreen=document.exitFullscreen||document.webkitCancelFullScreen||document.webkitExitFullscreen||document.mozCancelFullScreen||function(){});V.requestFullScreen||
(V.requestFullScreen=V.webkitRequestFullScreen||V.msRequestFullScreen||V.mozRequestFullScreen||l(S,"display","none")||function(){});xa=[[window,"keydown",Ha],[window,"wheel",Ia],[window,"hashchange",Ja],[N,"mousedown",Ka],[N,"mouseleave",La],[N,"mouseup",La],[N,"mousemove",Ma],[N,"touchstart",Ka,{passive:!1}],[N,"touchcancel",La],[N,"touchend",La],[N,"touchmove",Ma,{passive:!0}],[S,"",Na],[qa,"",Oa],[ra,"",X],[ta,"",Pa],[p("autofit",R)[0],"",Qa],[p("zoom-in",R)[0],"",Ra],[p("zoom-out",R)[0],"",Sa],
[p("close",R)[0],"",Ta],[p("theme",R)[0],"",Ea]]},{once:!0});function Ua(a){for(var b=0;b<xa.length;b++){var c=xa[b];(a?ea:ha)(c[0],c[1],c[2],c[3])}}function Ga(a){var b=Va.call(a.target,".spotlight");if(b){var c=Va.call(b,".spotlight-group"),d=p("spotlight",c);Ca(b.dataset,c&&c.dataset);for(c=0;c<d.length;c++)if(d[c]===b){za(d,c+1);break}Wa();return q(a)}}
function Ha(a){if(O)switch(a.keyCode){case 8:Qa();break;case 27:Ta();break;case 32:"false"!==L.player&&Pa();break;case 37:Oa();break;case 39:X();break;case 38:case 107:case 187:Ra();break;case 40:case 109:case 189:Sa()}}function Ia(a){O&&(a=a.deltaY,0>.5*(0>a?1:a?-1:0)?Sa():Ra())}function Ja(){O&&"#spotlight"===location.hash&&Ta(!0)}function Pa(a){("boolean"===typeof a?a:!T)?T||(T=setInterval(X,ma),f(ta,"on"),la&&Za()):T&&(T=clearInterval(T),k(ta,"on"),la&&n(ua,"transform",""));return T}
function Y(){U?clearTimeout(U):f(R,"menu");var a=L.autohide;U="false"!==a?setTimeout(function(){k(R,"menu");U=null},1*a||3E3):1}function $a(a){"boolean"===typeof a&&(U=a?U:0);U?(U=clearTimeout(U),k(R,"menu")):Y();return q(a)}function Ka(a){C=!0;D=!1;var b=ab(a);x=document.body.clientWidth;y=document.body.clientHeight;z=Q.width*B;A=Q.height*B;E=z<=x;ia=b.x;ja=b.y;return q(a,!0)}
function La(a){if(C&&!D)return C=!1,$a(a);E&&D&&(n(N,"transform","translateX("+-(100*(I-1)-t/x*100)+"%)"),t<-(y/10)&&X()||t>y/10&&Oa()||l(N,"transform","translateX(-"+100*(I-1)+"%)"),t=0,E=!1,l(O,"transform",""));C=!1;return q(a)}function Ma(a){if(C){wa||(wa=requestAnimationFrame(bb));var b=ab(a),c=(z-x)/2;D=!0;E=z<=x;t-=ia-(ia=b.x);E?F=!0:t>c?t=c:0<x-t-z+c?t=x-z+c:F=!0;A>y&&(c=(A-y)/2,u-=ja-(ja=b.y),u>c?u=c:0<y-u-A+c?u=y-A+c:F=!0)}else Y();return q(a,!0)}
function ab(a){var b=a.touches;b&&(b=b[0]);return{x:b?b.clientX:a.pageX,y:b?b.clientY:a.pageY}}function bb(a){F?(a&&(wa=requestAnimationFrame(bb)),l(O,"transform","translate("+t+"px, "+u+"px)")):wa=null;F=!1}function Na(a){("boolean"===typeof a?a:document.isFullScreen||document.webkitIsFullScreen||document.mozFullScreen)?(document.cancelFullScreen(),k(S,"on")):(V.requestFullScreen(),f(S,"on"))}
function Qa(a){"boolean"===typeof a&&(G=!a);G=1===B&&!G;l(Q,{maxHeight:G?"none":"",maxWidth:G?"none":"",transform:""});B=1;u=t=0;F=!0;bb();Y()}function Ra(a){var b=B/.65;5>=b&&cb(B=b);a||Y()}function cb(a){l(Q,"transform","translate(-50%, -50%) scale("+(a||1)+")")}function Sa(a){var b=.65*B;1<=b&&(cb(B=b),u=t=0,F=!0,bb());a||Y()}function Wa(){location.hash="spotlight";location.hash="show";Ua(!0);l(R,"transition","");f(V,"hide-scrollbars");f(R,"show");Y()}
function Ta(a){Ua(!1);history.go(!0===a?-1:-2);k(V,"hide-scrollbars");k(R,"show");T&&Pa(!1);Q.parentNode.removeChild(Q);O=Q=W=null}function Oa(){if(1<I)return Z(I-1);if(T||M)return Z(K)}function X(){if(I<K)return Z(I+1);if(T||M)return Z(1)}function Z(a){if(!(T&&C||a===I)){T||Y();T&&la&&Za();var b=a>I;I=a;Aa(b);return!0}}function Za(){n(ua,{transitionDuration:"",transform:""});l(ua,{transitionDuration:ma+"ms",transform:"translateX(0)"})}
function Ea(a){"boolean"===typeof a?H=a:(H=!H,Y());H?f(R,ka):k(R,ka)}
function Aa(a){u=t=0;B=1;var b=L.animation,c=!0,d=!0,e=!0;if(b||""===b){c=d=e=!1;b="string"===typeof b?b.split(","):b;for(var g=0;g<b.length;g++){var m=b[g].trim();if("scale"===m)c=!0;else if("fade"===m)d=!0;else if("slide"===m)e=!0;else if("flip"===m)var v=!0;else if("false"!==m){c=d=e=v=!1;var w=m;break}}}l(N,"transition",e?"":"none");l(N,"transform","translateX(-"+100*(I-1)+"%)");O&&l(O,"transform","");if(Q){l(Q,{opacity:d?0:1,transform:""});var J=Q;setTimeout(function(){J&&Q!==J&&J.parentNode&&
J.parentNode.removeChild(J)},800)}e=Fa();w&&f(Q,w);n(Q,{opacity:d?0:1,transform:"translate(-50%, -50%)"+(c?" scale(0.8)":"")+(v&&"undefined"!==typeof a?" rotateY("+(a?"":"-")+"90deg)":""),maxHeight:"",maxWidth:""});e&&l(Q,{visibility:"visible",opacity:1,transform:""});w&&k(Q,w);l(O,"transform","");l(qa,"visibility",M||1!==I?"":"hidden");l(ra,"visibility",M||I!==K?"":"hidden");a=W[I-1];if(c=a.title||a.description)da(oa,a.title),da(pa,a.description);l(na,"visibility",c?"visible":"hidden");da(sa,I+" / "+
K)}var Va=Element.prototype.closest||function(a){var b=this;for(a=a.substring(1);b&&1===b.nodeType;){if(b.classList.contains(a))return b;b=b.parentElement||b.parentNode}};window.Spotlight={theme:Ea,fullscreen:Na,autofit:Qa,next:X,prev:Oa,"goto":Z,close:Ta,zoom:cb,menu:$a,show:function(a,b){setTimeout(function(){a?(b?Ca(b):b={},za(a,b.index)):L={};Wa()})},play:Pa};}).call(this);
