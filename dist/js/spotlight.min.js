/**
 * Spotlight.js v0.1.1
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/spotlight
 */(function(){'use strict';var aa={};function ba(a){for(var b=a.className.split(" "),c={},d=0;d<b.length;d++)c[b[d]]=1;a.a=c}function g(a,b){a=h(a);"string"===typeof b&&(b=[b]);for(var c=0;c<b.length;c++)for(var d=b[c],f=0;f<a.length;f++){var e=a[f];e.a||ba(e);e.a[d]||(e.a[d]=1,e.classList.add(d))}}function k(a,b){a=h(a);"string"===typeof b&&(b=[b]);for(var c=0;c<b.length;c++)for(var d=b[c],f=0;f<a.length;f++){var e=a[f];e.a||ba(e);e.a[d]&&(e.a[d]=0,e.classList.remove(d))}}
function l(a,b,c,d){a=h(a);if("string"===typeof b)for(var f=0;f<a.length;f++){var e=a[f],m=e.b;m||(e.b=m={});m[b]!==c&&(m[b]=c,e.style.setProperty(aa[b]||(aa[b]=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),c,d))}else for(f=Object.keys(b),e=0;e<f.length;e++){m=f[e];c=b[m];for(var p=0;p<a.length;p++)l(a[p],m,c,d)}}var ca=0;function n(a,b,c){l(a,"transition","none");l(a,b,c);ca||(ca=a.clientTop&&0);l(a,"transition","")}
function h(a){if(a.constructor===Array){for(var b=0;b<a.length;b++){var c=a[b];a[b]="string"===typeof c?document.querySelector(c):c}return a}return"string"===typeof a?document.querySelectorAll(a):[a]}function q(a,b){return(b||document).getElementsByClassName(a)};var r="theme fullscreen autofit zoom-in zoom-out page title description".split(" "),t,u,v,w,x,y,z,A,C,da=!1,fa=!1,D=!1,E=!1,F=!1,G,H,I,J,K,L,M,N,O,ha,ia,ja,ka,P,la,Q=null,R=null,T;
function ma(a,b){if(H=a.length){L||(L=q("pane",N));for(var c=L.length,d=I.title,f=I.description,e=0;e<H;e++){var m=a[e];if(e<c)var p=L[e];else p=L[0].cloneNode(!0),l(p,"left",100*e+"%"),L[0].parentNode.appendChild(p);var B=void 0;p=p.dataset;p.src=m.href||m.src;var S=m.dataset;if("false"!==d){var Ea=p,ea;(ea=m.title||S&&S.title)||(ea=(B=(m||document).getElementsByTagName("img")).length&&B[0].alt);Ea.title=ea||d||""}"false"!==f&&(p.description=m.description||S&&S.description||f||"")}n(J,"transform",
"translateX(-"+100*((b||1)-1)+"%)");na(b||1);U()}}
function oa(a,b){I={};b&&pa(b);pa(a);a.description&&(I.description=b?b.description:!1);a.title&&(I.title=b?b.title:!1);"undefined"!==typeof I.zoom&&(I["zoom-in"]=I["zoom-out"]=I.zoom,delete I.zoom);if("undefined"!==typeof I.control){a=I.control.split(",");for(b=0;b<r.length;b++)I[r[b]]="false";for(b=0;b<a.length;b++){var c=a[b].trim();"zoom"===c?I["zoom-in"]=I["zoom-out"]="true":I[c]="true"}}for(a=0;a<r.length;a++)b=r[a],l(q(b,N)[0],"display","false"===I[b]?"none":"table-cell");I.theme&&(qa="white"!==
I.theme,ra())}function pa(a){for(var b=I,c=Object.keys(a),d=0;d<c.length;d++){var f=c[d];b[f]=""+a[f]}}function na(a){K=L[a-1];M=K.firstElementChild;G=a;return M?!0:(g(N,"loading"),M=new Image,M.onload=function(){k(N,"loading");l(M,{visibility:"visible",opacity:1,transform:""})},M.onerror=function(){K.removeChild(M)},K.appendChild(M),M.src=K.dataset.src,!1)}
V(document,"DOMContentLoaded",function(){N=document.createElement("div");N.id="spotlight";N.innerHTML='<div class=preloader style="background-image:url(img/preloader.svg)"></div><div class=scene><div class=pane></div></div><table class=header><tr><td class=page><td style="width:90%"><td class=fullscreen><img src="img/maximize.svg"><img src="img/minimize.svg"><td class=autofit><img src="img/autofit.svg"><td class=zoom-out><img src="img/zoom-out.svg"><td class=zoom-in><img src="img/zoom-in.svg"><td class=theme><img src="img/theme.svg"><td class=close><img src="img/close.svg"></table><div class="arrow arrow-left"><img src="img/arrow.svg"></div><div class="arrow arrow-right"><img src="img/arrow.svg"></div><table class=footer><tr><td class=title><tr><td class=description></table>';document.body.appendChild(N);
J=q("scene",N)[0];O=q("footer",N)[0];ha=q("title",O)[0];ia=q("description",O)[0];ja=q("arrow-left",N)[0];ka=q("arrow-right",N)[0];P=q("fullscreen",N)[0];la=q("page",N)[0];document.cancelFullScreen||(document.cancelFullScreen=document.exitFullscreen||document.webkitCancelFullScreen||document.webkitExitFullscreen||document.mozCancelFullScreen||function(){});T=document.documentElement||document.body;T.requestFullScreen||(T.requestFullScreen=T.webkitRequestFullScreen||T.msRequestFullScreen||T.mozRequestFullScreen||
l(P,"display","none")||function(){});V(J,"mousedown",sa);V(J,"mouseleave",W);V(J,"mouseup",W);V(J,"mousemove",ta);V(J,"touchstart",sa,{passive:!0});V(J,"touchcancel",W);V(J,"touchend",W);V(J,"touchmove",ta,{passive:!0});V(P,"",ua);V(ja,"",va);V(ka,"",wa);V(q("autofit",N)[0],"",xa);V(q("zoom-in",N)[0],"",ya);V(q("zoom-out",N)[0],"",za);V(q("close",N)[0],"",Aa);V(q("theme",N)[0],"",ra)});
V(window,"",function(a){var b=a.target.closest(".spotlight");if(b){var c=b.closest(".spotlight-group"),d=q("spotlight",c);oa(b.dataset,c&&c.dataset);for(c=0;c<d.length;c++)if(d[c]===b){ma(d,c+1);break}Ba();return X(a)}});function V(a,b,c,d){a.addEventListener(b||"click",c,"undefined"===typeof d?!0:d)}function Y(){R?clearTimeout(R):g(N,"menu");R="false"!==I.autohide?setTimeout(function(){k(N,"menu");R=null},2E3):1}
function Ca(a){"boolean"===typeof a&&(R=a?R:0);R?(R=clearTimeout(R),k(N,"menu")):Y();return X(a)}function sa(a){da=!0;fa=!1;var b=Da(a);x=document.body.clientWidth;y=document.body.clientHeight;z=M.width*C;A=M.height*C;D=z<=x;v=b.x;w=b.y;return X(a,!0)}function W(a){da=!1;if(!fa)return Ca(a);D&&(n(J,"transform","translateX("+-(100*(G-1)-t/x*100)+"%)"),t<-(y/5)&&wa()||t>y/5&&va()||l(J,"transform","translateX(-"+100*(G-1)+"%)"),t=0,D=!1,l(K,"transform",""));return X(a)}
function ta(a){if(da){Q||(Q=requestAnimationFrame(Z));var b=Da(a),c=(z-x)/2;fa=!0;D=z<=x;t-=v-(v=b.x);D?E=!0:t>c?t=c:0<x-t-z+c?t=x-z+c:E=!0;A>y&&(c=(A-y)/2,u-=w-(w=b.y),u>c?u=c:0<y-u-A+c?u=y-A+c:E=!0)}else Y();return X(a,!0)}function Da(a){var b=a.touches;b&&(b=b[0]);return{x:b?b.clientX:a.pageX,y:b?b.clientY:a.pageY}}function Z(a){E?(a&&(Q=requestAnimationFrame(Z)),l(K,"transform","translate("+t+"px, "+u+"px)")):Q=null;E=!1}
function ua(a){(a="boolean"===typeof a?a:document.isFullScreen||document.webkitIsFullScreen||document.mozFullScreen)?(document.cancelFullScreen(),k(P,"on")):(T.requestFullScreen(),g(P,"on"));return!a}function xa(a){"boolean"===typeof a&&(F=!a);F=1===C&&!F;l(M,{maxHeight:F?"none":"",maxWidth:F?"none":"",transform:""});C=1;u=t=0;E=!0;Z()}function ya(){Fa(C/=.65)}function Fa(a){l(M,"transform","translate(-50%, -50%) scale("+(a||1)+")");Y()}function za(){1<C&&(Fa(C*=.65),u=t=0,E=!0,Z());Y()}
function Ba(){g(T,"hide-scrollbars");g(N,"show");Y()}function Aa(){k(T,"hide-scrollbars");k(N,"show");M.parentNode.removeChild(M);M=K=null}function va(){Y();if(1<G)return G--,U(!1),!0}function wa(){Y();if(G<H)return G++,U(!0),!0}var qa=!1;function ra(a){Y();(qa="boolean"===typeof a?a:!qa)?g(N,"white"):k(N,"white")}
function U(a){u=t=0;C=1;var b=I.animation,c=!0,d=!0,f=!0,e=!1;if("undefined"!==typeof b){e=f=d=c=!1;b=b.split(",");for(var m=0;m<b.length;m++){var p=b[m].trim();"scale"===p?c=!0:"fade"===p?d=!0:"slide"===p?f=!0:"rotate"===p&&(e=!0)}}l(J,"transition",f?"":"none");l(J,"transform","translateX(-"+100*(G-1)+"%)");l(K,"transform","");l(M,{opacity:d?0:1,transform:""});var B=M;setTimeout(function(){B&&M!==B&&B.parentNode&&B.parentNode.removeChild(B)},800);f=na(G);n(M,{opacity:d?0:1,transform:"translate(-50%, -50%)"+
(c?" scale(0.8)":"")+(e&&"undefined"!==typeof a?" rotateY("+(a?"":"-")+"135deg)":""),maxHeight:"",maxWidth:""});f&&l(M,{opacity:1,transform:""});l(K,"transform","");l(ja,"visibility",1===G?"hidden":"");l(ka,"visibility",G===H?"hidden":"");a=K.dataset;if(c=a.title||a.description)ha.textContent=a.title||"",ia.textContent=a.description||"";l(O,"visibility",c?"visible":"hidden");la.textContent=G+" / "+H}
function X(a,b){a||(a=window.event);a&&(b||a.preventDefault(),a.stopImmediatePropagation(),a.returnValue=!1);return!1}function Ga(a,b){setTimeout(function(){a?(b?oa(b):b={},ma(a,b.index)):I={};Ba()})}window.Spotlight={theme:ra,fullscreen:ua,autofit:xa,next:wa,prev:va,"goto":function(a){if(a!==G){Y();var b=a>G;G=a;U(b);return!0}},close:Aa,zoom:Fa,menu:Ca,show:Ga};console.log(Ga);}).call(this);
