(function(){'use strict';function e(a){for(var b=f(g,void 0),c=0;c<b.length;c++)b[c].classList.add(a)}function h(a){for(var b=f(g,void 0),c=0;c<b.length;c++)b[c].classList.remove(a)}function k(a,b,c){a=f(a);if("string"===typeof b)for(var d=0;d<a.length;d++)a[d].style.setProperty(b,c);else for(d in b)if(b.hasOwnProperty(d))for(c=0;c<a.length;c++)a[c].style.setProperty(d,b[d])}function l(a,b){return"string"===typeof a?(b?l(b):document).querySelector(a):a}
function f(a,b){if(a.constructor===Array){for(b=0;b<a.length;b++)a[b]=l(a[b]);return a}return"string"===typeof a?(b?l(b):document).querySelectorAll(a):[a]};var m=null,n=!1,p=!1,q=!1,r=!1,u,v,w,x,y,B,C=0,D=0,E=0,F=0,G=1,H=null,I,J,K,L,M,N,g,O,P;window.dispatch_spotlight=function(a){for(var b=this.closest(".spotlight-group"),c=f(".spotlight",b),d=0;d<c.length;d++)if(c[d]===this){aa(b,d+1);break}return Q(a)};
function R(a){K=f(".pane",J)[a-1];L=K.style;M=K.firstElementChild;N=M.style;O=a;M.loaded?(N.opacity=1,N.transform="translate(-50%, -50%) scale(1)"):(e("loading"),a=M.src,M.src="img/pixel.gif",M.onload=function(){this.onload=null;this.loaded=!0;k(this,{opacity:1,transform:"translate(-50%, -50%) scale(1)"});h("loading")},M.src=a)}
function aa(a,b){a=f(".spotlight",a);if(P=a.length){for(var c=f("#spotlight .pane"),d=c.length,t={},z=0;z<P;t={a:t.a},z++){var A=void 0;t.a=void 0;if(z<d)A=c[z].firstElementChild,A.src=a[z].href,A.loaded=!1;else{var S=c[0].cloneNode(!0);A=S.firstElementChild;A.src=a[z].href;A.loaded=!1;S.style.left=100*z+"%";c[0].parentNode.appendChild(S)}t.a=A.style;t.a.transition="none";t.a.opacity=0;t.a.transform="translate(-50%, -50%) scale(0.8)";t.a.maxHeight="100%";t.a.maxWidth="100%";setTimeout(function(ea){return function(){ea.a.transition=
"transform 1s cubic-bezier(0.1, 1, 0.1, 1), opacity 1s cubic-bezier(0.1, 1, 0.1, 1)"}}(t))}J.style.transition="none";J.style.transform="translateX(-"+100*((b||1)-1)+"%)";setTimeout(function(){J.style.transition="transform 1s cubic-bezier(0.1, 1, 0.1, 1)";R(b||1);T();e("show");U()})}}
V(document,"DOMContentLoaded",function(){g=document.createElement("div");g.id="spotlight";g.style.backgroundImage="url(img/preloader.gif)";g.innerHTML="<div class=scene><div class=pane><img src></div></div><table class=header><tr><td class=page><td class=title><td class=toggle-fullscreen><img src='{image_maximize}' style=height:20px><td class=toggle-zoom><img src='{image_original}'><td class=zoom-out><img src='{image_zoom_out}'><td class=zoom-in><img src='{image_zoom_in}'><td class=close-gallery><img src='{image_close}' style=height:26px></table><div class=arrow-left><img src='{image_arrow}'></div><div class=arrow-right><img src='{image_arrow}'></div>".replace("{image_maximize}","img/maximize.svg").replace("{image_original}",
"img/original.svg").replace("{image_zoom_out}","img/zoom-out.svg").replace("{image_zoom_in}","img/zoom-in.svg").replace("{image_close}","img/close.svg").replace("{image_arrow}","img/arrow.svg").replace("{image_arrow}","img/arrow.svg");document.body.appendChild(g);J=l(".scene",g);V(J,"mousedown",W,!0);V(J,"mouseleave",X,!0);V(J,"mouseup",X,!0);V(J,"mousemove",Y,!0);V(J,"touchstart",W,!0);V(J,"touchcancel",X,!0);V(J,"touchend",X,!0);V(J,"touchmove",Y,!0);V(l(".toggle-fullscreen",g),"",ba);V(l(".toggle-zoom",
g),"",ca);V(l(".zoom-in",g),"",da);V(l(".zoom-out",g),"",fa);V(l(".close-gallery",g),"",ha);V(l(".arrow-left",g),"",Z);V(l(".arrow-right",g),"",ia)});V(window,"",function(a){a||(a=window.event);var b=a.target,c;if(c=b)a:{c=f(b,void 0);for(var d=0;d<c.length;d++)if(c[d].classList.contains("spotlight")){c=!0;break a}c=!1}if(c)return window.dispatch_spotlight.call(b,a)});function V(a,b,c,d){a.addEventListener(b||"click",c,d)}
function U(){H?clearTimeout(H):e("menu");H=setTimeout(function(){h("menu");H=null},2E3)}function W(a){H?(H=clearTimeout(H),h("menu")):U();var b=ja(a);u=document.body.clientWidth;v=document.body.clientHeight;y=M.width*G;B=M.height*G;r=y<=u;n=!0;w=b.x;x=b.y;return Q(a)}
function X(a){r&&(k("#spotlight .scene","transition","none"),k("#spotlight .scene","transform","translateX("+-(100*(O-1)-100/u*C)+"%)"),setTimeout(function(){k("#spotlight .scene","transition","transform 1s cubic-bezier(0.1, 1, 0.1, 1)");C<-(v/5)&&ia()||C>v/5&&Z()||k("#spotlight .scene","transform","translateX(-"+100*(O-1)+"%)");C=0;r=!1;L.transform=""}));n=!1;return Q(a)}
function Y(a){U();if(n){var b=ja(a);r=y<=u;var c=(y-y/G)/2;C-=w-(w=b.x);r?p=!0:C>c?C=c:0<u-C-y+c?C=u-y+c:p=!0;B>v&&(c="none"===I?(B-B/G)/2:(B-v)/2,D-=x-(x=b.y),D>c?D=c:0<v-D-B+c?D=v-B+c:p=!0);m||(m=window.requestAnimationFrame(ka))}return Q(a)}function ja(a){var b=a.touches;b&&(b=b[0]);return{x:b?b.clientX:a.pageX,y:b?b.clientY:a.pageY}}
function ka(){if(p){m=window.requestAnimationFrame(ka);var a=C+.5|0,b=D+.5|0;E===a&&F===b||L.setProperty("transform","translate("+(E=a)+"px, "+(F=b)+"px)")}else m=null;p=!1}function ba(){la()?this.firstElementChild.src="img/minimize.svg":this.firstElementChild.src="img/maximize.svg"}function ca(){D=C=0;q=1===G&&!q;N.maxHeight=I=q?"none":"100%";N.maxWidth=q?"none":"100%";N.transform="translate(-50%, -50%) scale(1)";G=1}function da(){N.transform="translate(-50%, -50%) scale("+(G/=.65)+")";U()}
function fa(){if(1<G){G*=.65;if("none"===I){var a=document.body;C=(a.clientWidth-M.naturalWidth)/2;D=(a.clientHeight-M.naturalHeight)/2}else D=C=0;N.transform="translate(-50%, -50%) scale("+G+")"}U()}function ha(){h("show");for(var a=f("#spotlight .scene img"),b=0;b<a.length;b++)a[b].src="img/pixel.gif",a[b].loaded=!1;N=M=L=K=null}function Z(){U();if(1<O)return O--,T(),!0}function ia(){U();if(O<P)return O++,T(),!0}
function T(){D=C=0;G=1;k(J,"transform","translateX(-"+100*(O-1)+"%)");L.transform="";N.opacity=0;N.transform="translate(-50%, -50%) scale(1)";R(O);L.transform="";N.opacity=1;N.transform="translate(-50%, -50%) scale(1)";1===O?k("#spotlight .arrow-left","visibility","hidden"):k("#spotlight .arrow-left","visibility","");O===P?k("#spotlight .arrow-right","visibility","hidden"):k("#spotlight .arrow-right","visibility","");l("#spotlight .page").textContent=O+" / "+P}
function Q(a){a||(a=window.event);a.preventDefault();a.stopImmediatePropagation();return a.returnValue=!1}
function la(){var a=document.documentElement||document.body,b=document.isFullScreen||document.webkitIsFullScreen||document.mozFullScreen||!1;a.requestFullScreen||(a.requestFullScreen=a.requestFullScreen||a.webkitRequestFullScreen||a.msRequestFullScreen||a.mozRequestFullScreen||function(){return!1});document.cancelFullScreen||(document.cancelFullScreen=document.cancelFullScreen||document.exitFullscreen||document.webkitCancelFullScreen||document.webkitExitFullscreen||document.mozCancelFullScreen||function(){return!1});
b?document.cancelFullScreen():a.requestFullScreen();return!b};}());
